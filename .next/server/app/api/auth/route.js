(()=>{var e={};e.id=188,e.ids=[188],e.modules={6037:e=>{"use strict";e.exports=require("mongoose")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9387:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>w,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{POST:()=>p});var n=s(2706),a=s(8203),o=s(5994),i=s(3253),u=s(9187);async function p(e){let t=await e.json(),{action:s}=t;return"signup"===s?await d(t):"login"===s?await c(t):u.NextResponse.json({message:"Invalid action"},{status:400})}async function d(e){let{fullName:t,password:s,email:r}=e;if(await i.K.findOne({email:r}))return u.NextResponse.json({message:"User already exists"},{status:400});let n=new i.K({fullName:t,password:s,email:r});await n.save(),console.log("User Saved");let{password:a,...o}=n.toObject();return u.NextResponse.json(o)}async function c(e){let{email:t,password:s}=e,r=await i.K.findOne({email:t});if(!r)return u.NextResponse.json({message:"User not found"},{status:404});if(r.password!==s)return u.NextResponse.json({message:"Invalid password"},{status:401});let{password:n,...a}=r.toObject();return u.NextResponse.json(a)}let l=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/auth/route",pathname:"/api/auth",filename:"route",bundlePath:"app/api/auth/route"},resolvedPagePath:"E:\\Coding Projects\\StepHub\\stephub\\app\\api\\auth\\route.js",nextConfigOutput:"",userland:r}),{workAsyncStorage:x,workUnitAsyncStorage:g,serverHooks:m}=l;function w(){return(0,o.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:g})}},6487:()=>{},8335:()=>{},3253:(e,t,s)=>{"use strict";s.d(t,{K:()=>o});var r=s(6037),n=s.n(r);let a=n().Schema({fullName:String,password:String,email:String}),o=n().models.user||n().model("user",a)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[989,452],()=>s(9387));module.exports=r})();